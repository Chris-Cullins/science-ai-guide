
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../figures/">
      
      
        <link rel="next" href="../writing/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Coding & Refactors - Science + Agentic AI Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#coding-and-refactors" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Science + Agentic AI Guide" class="md-header__button md-logo" aria-label="Science + Agentic AI Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Science + Agentic AI Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Coding & Refactors
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Science + Agentic AI Guide" class="md-nav__button md-logo" aria-label="Science + Agentic AI Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Science + Agentic AI Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes-from-the-human/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notes from the Human
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Start Here
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Start Here
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../oh-i-get-it/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Oh I Get It (Guided Tour)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What This Is
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../why-agentic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Why Agentic AI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tooling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pick Your Tools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bootcamp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bootcamp (2 Days)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../first-hour/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick Win (First Hour)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Set Up
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Set Up
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../claude-code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Claude Code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup Checklist
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install-order/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation Order
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../open-terminal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Open a Terminal
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Terminal Basics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../git-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Git Basics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Core Skills
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Core Skills
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflows (Plan-Do-Verify)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-it-works/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How Agentic AI Works
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prompting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prompting Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../verification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Verification & Rigor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../checklists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Checklists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-fluency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI Fluency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cost-control/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cost Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multi-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi-Model Strategy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model-recommendations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Which Models to Use
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../burner-machine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Burner Machine and Sandboxes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../safety-privacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Safety & Privacy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../disclosure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Disclosure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Scientist Workflows
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Scientist Workflows
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../literature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Literature & Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../figures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Figures & Tables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Coding & Refactors
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Coding & Refactors
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-ai-is-genuinely-good-at" class="md-nav__link">
    <span class="md-ellipsis">
      
        What AI is genuinely good at
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What AI is genuinely good at">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refactoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Refactoring
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding tests
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixing-errors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fixing errors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wiring-up-clis-and-configs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wiring up CLIs and configs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Documentation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-ai-is-risky-at" class="md-nav__link">
    <span class="md-ellipsis">
      
        What AI is risky at
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What AI is risky at">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scientific-logic" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scientific logic
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statistical-choices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Statistical choices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#novel-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Novel algorithms
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-job-as-the-human" class="md-nav__link">
    <span class="md-ellipsis">
      
        Your job as the human
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-coding-tasks-with-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common coding tasks with prompts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common coding tasks with prompts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clean-up-a-messy-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Clean up a messy script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-tests-to-existing-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Add tests to existing code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convert-a-notebook-to-a-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert a notebook to a script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fix-a-bug-from-a-stack-trace" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fix a bug from a stack trace
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#speed-up-slow-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Speed up slow code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-cli-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Add a CLI interface
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-refactor-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        The refactor workflow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-to-stop" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to stop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-safe-refactor-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      
        A safe refactor prompt
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../writing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Writing & Grants
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../latex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LaTeX & Math
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Lab Ops
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Lab Ops
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-rollout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Rollout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lab-policy-template/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lab Policy Template
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reproducibility/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reproducibility
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Advanced
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced-usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced Usage (Tooling)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP & Connectors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scaling-up/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scaling Up Your Usage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prompt Templates (Copy/Paste)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pricing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pricing (Snapshot)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-ai-is-genuinely-good-at" class="md-nav__link">
    <span class="md-ellipsis">
      
        What AI is genuinely good at
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What AI is genuinely good at">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#refactoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        Refactoring
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding tests
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixing-errors" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fixing errors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wiring-up-clis-and-configs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wiring up CLIs and configs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Documentation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-ai-is-risky-at" class="md-nav__link">
    <span class="md-ellipsis">
      
        What AI is risky at
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="What AI is risky at">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scientific-logic" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scientific logic
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statistical-choices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Statistical choices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#novel-algorithms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Novel algorithms
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#your-job-as-the-human" class="md-nav__link">
    <span class="md-ellipsis">
      
        Your job as the human
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-coding-tasks-with-prompts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Common coding tasks with prompts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common coding tasks with prompts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clean-up-a-messy-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Clean up a messy script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-tests-to-existing-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Add tests to existing code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convert-a-notebook-to-a-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        Convert a notebook to a script
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fix-a-bug-from-a-stack-trace" class="md-nav__link">
    <span class="md-ellipsis">
      
        Fix a bug from a stack trace
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#speed-up-slow-code" class="md-nav__link">
    <span class="md-ellipsis">
      
        Speed up slow code
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-a-cli-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Add a CLI interface
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-refactor-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        The refactor workflow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-to-stop" class="md-nav__link">
    <span class="md-ellipsis">
      
        When to stop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-safe-refactor-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      
        A safe refactor prompt
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      
        See also
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="coding-and-refactors">Coding and Refactors<a class="headerlink" href="#coding-and-refactors" title="Permanent link">&para;</a></h1>
<p>Agentic AI excels at the mechanical parts of coding—the parts that take time but don't require deep scientific judgment. This page covers how to use it effectively while keeping your science correct.</p>
<h2 id="what-ai-is-genuinely-good-at">What AI is genuinely good at<a class="headerlink" href="#what-ai-is-genuinely-good-at" title="Permanent link">&para;</a></h2>
<h3 id="refactoring">Refactoring<a class="headerlink" href="#refactoring" title="Permanent link">&para;</a></h3>
<p>Turning messy code into clean code without changing behavior. This is where AI shines brightest:
- Extracting functions from long scripts
- Renaming variables for clarity
- Reorganizing file structure
- Converting notebooks to modules</p>
<h3 id="adding-tests">Adding tests<a class="headerlink" href="#adding-tests" title="Permanent link">&para;</a></h3>
<p>Writing test cases for existing code:
- Unit tests for individual functions
- Integration tests for pipelines
- Edge case coverage
- Regression tests that catch future bugs</p>
<h3 id="fixing-errors">Fixing errors<a class="headerlink" href="#fixing-errors" title="Permanent link">&para;</a></h3>
<p>When you have a stack trace or error message:
- Diagnosing the root cause
- Proposing fixes
- Explaining why the error occurred</p>
<h3 id="wiring-up-clis-and-configs">Wiring up CLIs and configs<a class="headerlink" href="#wiring-up-clis-and-configs" title="Permanent link">&para;</a></h3>
<p>The boring but necessary plumbing:
- Adding command-line argument parsing
- Reading config files
- Setting up logging
- Handling input/output paths</p>
<h3 id="documentation">Documentation<a class="headerlink" href="#documentation" title="Permanent link">&para;</a></h3>
<p>Writing docstrings, README files, and usage examples from existing code.</p>
<h2 id="what-ai-is-risky-at">What AI is risky at<a class="headerlink" href="#what-ai-is-risky-at" title="Permanent link">&para;</a></h2>
<h3 id="scientific-logic">Scientific logic<a class="headerlink" href="#scientific-logic" title="Permanent link">&para;</a></h3>
<p>The agent does not understand your domain. It will happily:
- Change units without telling you
- Swap coordinate conventions
- Simplify equations incorrectly
- Remove "unnecessary" constants that matter</p>
<h3 id="statistical-choices">Statistical choices<a class="headerlink" href="#statistical-choices" title="Permanent link">&para;</a></h3>
<p>Choosing the right test, handling multiple comparisons, interpreting p-values—these require judgment the agent doesn't have.</p>
<h3 id="novel-algorithms">Novel algorithms<a class="headerlink" href="#novel-algorithms" title="Permanent link">&para;</a></h3>
<p>If you're implementing something new, the agent may confidently produce plausible-looking code that's subtly wrong.</p>
<h2 id="your-job-as-the-human">Your job as the human<a class="headerlink" href="#your-job-as-the-human" title="Permanent link">&para;</a></h2>
<p>For every coding task, define:</p>
<ol>
<li><strong>What must not change</strong> - scientific assumptions, core logic, validated results</li>
<li><strong>What should improve</strong> - readability, reproducibility, performance, test coverage</li>
<li><strong>How you'll verify</strong> - a test, a command, a comparison to known output</li>
</ol>
<p>If you can't define these, the task isn't ready to delegate.</p>
<h2 id="common-coding-tasks-with-prompts">Common coding tasks with prompts<a class="headerlink" href="#common-coding-tasks-with-prompts" title="Permanent link">&para;</a></h2>
<h3 id="clean-up-a-messy-script">Clean up a messy script<a class="headerlink" href="#clean-up-a-messy-script" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Refactor this script for readability and maintainability.

Rules:
- Do not change the scientific logic or numerical outputs
- Extract repeated code into functions
- Add type hints to function signatures
- Keep the same input/output behavior

Verification:
- Running the script with the same inputs produces identical outputs
- Show me the diff so I can review what changed
</code></pre></div>
<h3 id="add-tests-to-existing-code">Add tests to existing code<a class="headerlink" href="#add-tests-to-existing-code" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Add tests for the functions in src/analysis.py.

Requirements:
- Use pytest
- Cover normal cases, edge cases, and at least one failure case
- Tests should run in under 5 seconds total
- Do not modify the original code unless necessary for testability

If you need to refactor for testability, propose the change first and explain why.
</code></pre></div>
<h3 id="convert-a-notebook-to-a-script">Convert a notebook to a script<a class="headerlink" href="#convert-a-notebook-to-a-script" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Convert this Jupyter notebook into a reproducible Python script.

Requirements:
- Move all parameters to a config file or CLI arguments
- Remove interactive/exploratory code that isn&#39;t needed for the final result
- Add a main() function as the entry point
- Ensure outputs are identical to the notebook

Do not change any scientific logic. If you&#39;re unsure whether something is &quot;exploratory&quot; or &quot;essential,&quot; ask.
</code></pre></div>
<h3 id="fix-a-bug-from-a-stack-trace">Fix a bug from a stack trace<a class="headerlink" href="#fix-a-bug-from-a-stack-trace" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>I&#39;m getting this error:
[paste stack trace]

Context:
- The code is in [file path]
- It&#39;s supposed to [describe expected behavior]
- It fails when [describe when it fails]

Please:
1. Identify the root cause
2. Propose a fix
3. Explain why this error occurred
4. Suggest how to prevent similar bugs
</code></pre></div>
<h3 id="speed-up-slow-code">Speed up slow code<a class="headerlink" href="#speed-up-slow-code" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>This script takes too long to run. Profile it and suggest optimizations.

Constraints:
- Do not change outputs (results must be numerically identical)
- Prefer simple optimizations over clever ones
- If you suggest using a different library, explain the tradeoff

Show me the before/after timing for any changes you make.
</code></pre></div>
<h3 id="add-a-cli-interface">Add a CLI interface<a class="headerlink" href="#add-a-cli-interface" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Add a command-line interface to this script.

Requirements:
- Use argparse (or click if you prefer)
- Required arguments: input_file, output_dir
- Optional arguments: --config, --verbose, --seed
- Include --help with clear descriptions
- Add a main() entry point that parses args and runs the analysis
</code></pre></div>
<h2 id="the-refactor-workflow">The refactor workflow<a class="headerlink" href="#the-refactor-workflow" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Commit first</strong> - make sure you can undo everything</li>
<li><strong>Define "same behavior"</strong> - a test, a checksum, a comparison</li>
<li><strong>Ask for small changes</strong> - one refactor at a time</li>
<li><strong>Verify after each change</strong> - run the test before continuing</li>
<li><strong>Review the diff</strong> - understand what changed</li>
</ol>
<p>If a refactor breaks something, it's much easier to find the problem when changes are small.</p>
<h2 id="when-to-stop">When to stop<a class="headerlink" href="#when-to-stop" title="Permanent link">&para;</a></h2>
<p>Signs you're moving too fast:</p>
<ul>
<li>You can't explain what the agent changed</li>
<li>You're approving diffs without reading them</li>
<li>Tests are passing but you don't know why</li>
<li>The code "looks cleaner" but you're not sure it's correct</li>
</ul>
<p>Slow down. The goal is correct, maintainable code—not fast code.</p>
<h2 id="a-safe-refactor-prompt">A safe refactor prompt<a class="headerlink" href="#a-safe-refactor-prompt" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>Refactor this project for readability and reproducibility.

Constraints:
- Do not change scientific logic without asking
- Keep outputs identical unless you explain why they differ
- Make changes incrementally so I can review each step

Definition of done:
- `make test` passes
- `make figures` regenerates the main figures identically
- I can read the diff and understand every change
</code></pre></div>
<h2 id="see-also">See also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../verification/">Verification and Rigor</a></li>
<li><a href="../workflows/">Workflows (Plan-Do-Verify)</a></li>
<li><a href="../troubleshooting/">Troubleshooting</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.instant", "navigation.sections", "navigation.expand", "toc.follow", "search.suggest", "search.highlight", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>